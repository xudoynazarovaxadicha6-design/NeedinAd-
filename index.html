<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NeedinAd</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Arial,sans-serif;background:#0f0f0f;color:#fff;padding:20px;min-height:100vh}
.container{max-width:800px;margin:0 auto}
h1{font-size:36px;margin-bottom:10px}
.subtitle{color:#aaa;margin-bottom:20px}
.nav{display:flex;gap:10px;margin-bottom:30px;flex-wrap:wrap}
.btn{padding:10px 20px;background:#333;color:#fff;border:none;border-radius:5px;cursor:pointer}
.btn:hover{background:#444}
.section{background:#1a1a1a;padding:20px;border-radius:8px;margin-bottom:20px}
.section h2{margin-bottom:15px}
input,textarea,select{width:100%;padding:12px;margin-bottom:10px;background:#222;color:#fff;border:1px solid #333;border-radius:5px;font-family:Arial}
textarea{min-height:100px;resize:vertical}
.btn-primary{width:100%;padding:12px;background:#fff;color:#000;border:none;border-radius:5px;font-weight:bold;cursor:pointer}
.btn-delete{padding:10px 20px;background:#f44336;color:#fff;border:none;border-radius:5px;cursor:pointer;margin-top:10px}
.answer,.archive-item{background:#222;padding:12px;border-radius:5px;margin-bottom:10px}
.archive-header{display:flex;justify-content:space-between;margin-bottom:10px}
.archive-q{color:#4CAF50;font-weight:bold}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);z-index:1000;justify-content:center;align-items:center}
.modal.show{display:flex}
.modal-content{background:#1a1a1a;padding:25px;border-radius:8px;max-width:400px;width:90%}
.modal-btns{display:flex;gap:10px;margin-top:15px}
.modal-btn{flex:1;padding:10px;border:none;border-radius:5px;cursor:pointer;font-weight:bold}
.confirm{background:#4CAF50;color:#fff}
.cancel{background:#f44336;color:#fff}
.view{display:none}
.view.active{display:block}
.empty{color:#666;font-style:italic}
.msg{background:#4CAF50;padding:12px;border-radius:5px;margin-bottom:15px;display:none}
.msg.show{display:block}
</style>
</head>
<body>
<div class="container">
<h1>NeedinAd</h1>
<p class="subtitle" id="sub">Savol bitta. Fikrlar ko'p.</p>
<div class="nav">
<button class="btn" onclick="view('main')" id="n1">üè† Bosh sahifa</button>
<button class="btn" onclick="view('archive')" id="n2">üìö Arxiv</button>
<button class="btn" onclick="view('settings')" id="n3">‚öôÔ∏è Sozlamalar</button>
</div>

<div id="v1" class="view active">
<div class="section">
<h2 id="l1">Savol joylash (egasi) üîê</h2>
<input type="text" id="qi" placeholder="Savol...">
<button class="btn-primary" onclick="openPost()" id="b1">Joylash</button>
</div>
<div class="section">
<h2 id="l2">üìå Hozirgi Savol</h2>
<div id="cq"><p class="empty" id="e1">Savol yo'q</p></div>
<button class="btn-delete" id="bd" style="display:none" onclick="openDel()">üóëÔ∏è <span id="d1">O'chirish</span></button>
</div>
<div class="section">
<h2 id="l3">üí¨ Javob qoldirish</h2>
<textarea id="ai" placeholder="Fikr..."></textarea>
<button class="btn-primary" onclick="addAns()" id="b2">Yuborish</button>
</div>
<div class="section">
<h2><span id="l4">üí≠ Javoblar</span> <span id="cnt">(0)</span></h2>
<div id="al"><p class="empty" id="e2">Javoblar yo'q</p></div>
</div>
</div>

<div id="v2" class="view">
<div class="section">
<h2 id="l5">üìö Arxiv</h2>
<div id="arc"><p class="empty" id="e3">Arxiv bo'sh</p></div>
</div>
</div>

<div id="v3" class="view">
<div class="section">
<h2 id="l6">‚öôÔ∏è Sozlamalar</h2>
<div class="msg" id="msg"><span id="s1">Saqlandi!</span></div>
<h3 id="l7">Til:</h3>
<select id="lang" onchange="changeLang()">
<option value="uz">O'zbek</option>
<option value="en">English</option>
<option value="ru">–†—É—Å—Å–∫–∏–π</option>
</select>
<h3 id="l8" style="margin-top:20px">Parol:</h3>
<input type="password" id="op" placeholder="Hozirgi">
<input type="password" id="np" placeholder="Yangi">
<input type="password" id="cp" placeholder="Tasdiqlash">
<button class="btn-primary" onclick="changePass()" id="b3">O'zgartirish</button>
</div>
</div>

<div id="m1" class="modal">
<div class="modal-content">
<h3 id="m1t">Parol kiriting</h3>
<input type="password" id="mp">
<div class="modal-btns">
<button class="modal-btn confirm" onclick="postQ()" id="m1c">OK</button>
<button class="modal-btn cancel" onclick="closePost()" id="m1x">Bekor</button>
</div>
</div>
</div>

<div id="m2" class="modal">
<div class="modal-content">
<h3 id="m2t">O'chirish?</h3>
<p style="color:#aaa;margin-bottom:10px" id="m2w">Qaytarib bo'lmaydi!</p>
<input type="password" id="dp">
<div class="modal-btns">
<button class="modal-btn cancel" onclick="delQ()" id="m2c">O'chirish</button>
<button class="modal-btn confirm" onclick="closeDel()" id="m2x">Bekor</button>
</div>
</div>
</div>

<div id="m3" class="modal">
<div class="modal-content">
<h3 id="m3t">Arxivdan o'chirish?</h3>
<p style="color:#aaa;margin-bottom:10px" id="m3w">Qaytarib bo'lmaydi!</p>
<input type="password" id="ap">
<div class="modal-btns">
<button class="modal-btn cancel" onclick="delArc()" id="m3c">O'chirish</button>
<button class="modal-btn confirm" onclick="closeArc()" id="m3x">Bekor</button>
</div>
</div>
</div>
</div>

<script>
var pass=localStorage.getItem('p')||'owner123',lang=localStorage.getItem('l')||'uz',delId=null;
var tr={uz:{sub:"Savol bitta. Fikrlar ko'p.",n1:"üè† Bosh sahifa",n2:"üìö Arxiv",n3:"‚öôÔ∏è Sozlamalar",l1:"Savol joylash (egasi) üîê",b1:"Joylash",l2:"üìå Hozirgi Savol",e1:"Savol yo'q",d1:"O'chirish",l3:"üí¨ Javob qoldirish",b2:"Yuborish",l4:"üí≠ Javoblar",e2:"Javoblar yo'q",l5:"üìö Arxiv",e3:"Arxiv bo'sh",l6:"‚öôÔ∏è Sozlamalar",s1:"Saqlandi!",l7:"Til:",l8:"Parol:",b3:"O'zgartirish",m1t:"Parol kiriting",m1c:"OK",m1x:"Bekor",m2t:"O'chirish?",m2w:"Qaytarib bo'lmaydi!",m2c:"O'chirish",m2x:"Bekor",m3t:"Arxivdan o'chirish?",m3w:"Qaytarib bo'lmaydi!",m3c:"O'chirish",m3x:"Bekor",a1:"Parol xato!",a2:"Joylandi!",a3:"O'chirildi!",a4:"Yuborildi!",a5:"To'ldiring",a6:"Parol xato",a7:"Mos kelmadi",a8:"4+ belgi",a9:"Arxiv o'chirildi!",w:"javob"},en:{sub:"One question. Many thoughts.",n1:"üè† Home",n2:"üìö Archive",n3:"‚öôÔ∏è Settings",l1:"Post Question (owner) üîê",b1:"Post",l2:"üìå Current Question",e1:"No question",d1:"Delete",l3:"üí¨ Anonymous Answer",b2:"Send",l4:"üí≠ Answers",e2:"No answers",l5:"üìö Archive",e3:"Empty archive",l6:"‚öôÔ∏è Settings",s1:"Saved!",l7:"Language:",l8:"Password:",b3:"Change",m1t:"Enter Password",m1c:"OK",m1x:"Cancel",m2t:"Delete?",m2w:"Cannot undo!",m2c:"Delete",m2x:"Cancel",m3t:"Delete from archive?",m3w:"Cannot undo!",m3c:"Delete",m3x:"Cancel",a1:"Wrong password!",a2:"Posted!",a3:"Deleted!",a4:"Sent!",a5:"Fill all",a6:"Wrong password",a7:"Mismatch",a8:"4+ chars",a9:"Archive deleted!",w:"answers"},ru:{sub:"–û–¥–∏–Ω –≤–æ–ø—Ä–æ—Å. –ú–Ω–æ–≥–æ –º—ã—Å–ª–µ–π.",n1:"üè† –ì–ª–∞–≤–Ω–∞—è",n2:"üìö –ê—Ä—Ö–∏–≤",n3:"‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",l1:"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å (–≤–ª–∞–¥–µ–ª–µ—Ü) üîê",b1:"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å",l2:"üìå –¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å",e1:"–ù–µ—Ç –≤–æ–ø—Ä–æ—Å–∞",d1:"–£–¥–∞–ª–∏—Ç—å",l3:"üí¨ –ê–Ω–æ–Ω–∏–º–Ω—ã–π –æ—Ç–≤–µ—Ç",b2:"–û—Ç–ø—Ä–∞–≤–∏—Ç—å",l4:"üí≠ –û—Ç–≤–µ—Ç—ã",e2:"–ù–µ—Ç –æ—Ç–≤–µ—Ç–æ–≤",l5:"üìö –ê—Ä—Ö–∏–≤",e3:"–ê—Ä—Ö–∏–≤ –ø—É—Å—Ç",l6:"‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",s1:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!",l7:"–Ø–∑—ã–∫:",l8:"–ü–∞—Ä–æ–ª—å:",b3:"–ò–∑–º–µ–Ω–∏—Ç—å",m1t:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",m1c:"OK",m1x:"–û—Ç–º–µ–Ω–∞",m2t:"–£–¥–∞–ª–∏—Ç—å?",m2w:"–ù–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!",m2c:"–£–¥–∞–ª–∏—Ç—å",m2x:"–û—Ç–º–µ–Ω–∞",m3t:"–£–¥–∞–ª–∏—Ç—å –∏–∑ –∞—Ä—Ö–∏–≤–∞?",m3w:"–ù–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!",m3c:"–£–¥–∞–ª–∏—Ç—å",m3x:"–û—Ç–º–µ–Ω–∞",a1:"–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!",a2:"–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ!",a3:"–£–¥–∞–ª–µ–Ω–æ!",a4:"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!",a5:"–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å—ë",a6:"–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å",a7:"–ù–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç",a8:"4+ —Å–∏–º–≤–æ–ª–æ–≤",a9:"–ê—Ä—Ö–∏–≤ —É–¥–∞–ª–µ–Ω!",w:"–æ—Ç–≤–µ—Ç–æ–≤"}};
function g(){var c=localStorage.getItem('c'),a=localStorage.getItem('a');return {c:c?JSON.parse(c):null,a:a?JSON.parse(a):[]}}
function s(c,a){if(c!==undefined){if(c===null)localStorage.removeItem('c');else localStorage.setItem('c',JSON.stringify(c))}if(a!==undefined)localStorage.setItem('a',JSON.stringify(a))}
function esc(t){var d=document.createElement('div');d.textContent=t;return d.innerHTML}
function trans(){var t=tr[lang];document.getElementById('sub').textContent=t.sub;document.getElementById('n1').textContent=t.n1;document.getElementById('n2').textContent=t.n2;document.getElementById('n3').textContent=t.n3;document.getElementById('l1').textContent=t.l1;document.getElementById('b1').textContent=t.b1;document.getElementById('l2').textContent=t.l2;document.getElementById('e1').textContent=t.e1;document.getElementById('d1').textContent=t.d1;document.getElementById('l3').textContent=t.l3;document.getElementById('b2').textContent=t.b2;document.getElementById('l4').textContent=t.l4;document.getElementById('e2').textContent=t.e2;document.getElementById('l5').textContent=t.l5;document.getElementById('e3').textContent=t.e3;document.getElementById('l6').textContent=t.l6;document.getElementById('s1').textContent=t.s1;document.getElementById('l7').textContent=t.l7;document.getElementById('l8').textContent=t.l8;document.getElementById('b3').textContent=t.b3;document.getElementById('m1t').textContent=t.m1t;document.getElementById('m1c').textContent=t.m1c;document.getElementById('m1x').textContent=t.m1x;document.getElementById('m2t').textContent=t.m2t;document.getElementById('m2w').textContent=t.m2w;document.getElementById('m2c').textContent=t.m2c;document.getElementById('m2x').textContent=t.m2x;document.getElementById('m3t').textContent=t.m3t;document.getElementById('m3w').textContent=t.m3w;document.getElementById('m3c').textContent=t.m3c;document.getElementById('m3x').textContent=t.m3x}
function view(v){var vs=document.querySelectorAll('.view');for(var i=0;i<vs.length;i++)vs[i].classList.remove('active');if(v==='main'){document.getElementById('v1').classList.add('active');rMain()}else if(v==='archive'){document.getElementById('v2').classList.add('active');rArc()}else if(v==='settings'){document.getElementById('v3').classList.add('active')}}
function openPost(){var q=document.getElementById('qi').value.trim();if(!q){alert(tr[lang].b1+'!');return}document.getElementById('m1').classList.add('show')}
function closePost(){document.getElementById('mp').value='';document.getElementById('m1').classList.remove('show')}
function postQ(){var p=document.getElementById('mp').value,q=document.getElementById('qi').value.trim();if(p!==pass){alert(tr[lang].a1);document.getElementById('mp').value='';return}var d=g();if(d.c&&d.c.q)d.a.unshift({id:Date.now(),q:d.c.q,a:d.c.a||[],d:new Date().toLocaleDateString()});var nc={q:q,a:[]};s(nc,d.a);document.getElementById('qi').value='';closePost();alert(tr[lang].a2);rMain()}
function openDel(){document.getElementById('m2').classList.add('show')}
function closeDel(){document.getElementById('dp').value='';document.getElementById('m2').classList.remove('show')}
function delQ(){var p=document.getElementById('dp').value;if(p!==pass){alert(tr[lang].a1);document.getElementById('dp').value='';return}var d=g();if(d.c&&d.c.q)d.a.unshift({id:Date.now(),q:d.c.q,a:d.c.a||[],d:new Date().toLocaleDateString()});s(null,d.a);closeDel();alert(tr[lang].a3);rMain()}
function addAns(){var a=document.getElementById('ai').value.trim();if(!a){alert(tr[lang].b2+'!');return}var d=g();if(!d.c||!d.c.q){alert(tr[lang].e1);return}d.c.a.unshift(a);s(d.c,undefined);document.getElementById('ai').value='';alert(tr[lang].a4);rMain()}
function changeLang(){lang=document.getElementById('lang').value;localStorage.setItem('l',lang);trans();rMain();rArc()}
function changePass(){var o=document.getElementById('op').value,n=document.getElementById('np').value,c=document.getElementById('cp').value;if(!o||!n||!c){alert(tr[lang].a5);return}if(o!==pass){alert(tr[lang].a6);return}if(n!==c){alert(tr[lang].a7);return}if(n.length<4){alert(tr[lang].a8);return}pass=n;localStorage.setItem('p',n);document.getElementById('op').value='';document.getElementById('np').value='';document.getElementById('cp').value='';var m=document.getElementById('msg');m.classList.add('show');setTimeout(function(){m.classList.remove('show')},3000)}
function openArcDel(id){delId=id;document.getElementById('m3').classList.add('show')}
function closeArc(){delId=null;document.getElementById('ap').value='';document.getElementById('m3').classList.remove('show')}
function delArc(){var p=document.getElementById('ap').value;if(p!==pass){alert(tr[lang].a1);document.getElementById('ap').value='';return}var d=g(),na=[];for(var i=0;i<d.a.length;i++)if(d.a[i].id!==delId)na.push(d.a[i]);s(undefined,na);closeArc();alert(tr[lang].a9);rArc()}
function rMain(){var d=g(),qd=document.getElementById('cq'),db=document.getElementById('bd');if(d.c&&d.c.q){qd.innerHTML='<div style="background:#222;padding:15px;border-radius:5px">'+esc(d.c.q)+'</div>';db.style.display='block'}else{qd.innerHTML='<p class="empty">'+tr[lang].e1+'</p>';db.style.display='none'}var al=document.getElementById('al'),ans=d.c?d.c.a||[]:[];document.getElementById('cnt').textContent='('+ans.length+')';if(ans.length===0)al.innerHTML='<p class="empty">'+tr[lang].e2+'</p>';else{var h='';for(var i=0;i<ans.length;i++)h+='<div class="answer">'+esc(ans[i])+'</div>';al.innerHTML=h}}
function rArc(){var d=g(),arc=document.getElementById('arc');if(d.a.length===0){arc.innerHTML='<p class="empty">'+tr[lang].e3+'</p>';return}var h='';for(var i=0;i<d.a.length;i++){var it=d.a[i];h+='<div class="archive-item"><div class="archive-header"><div class="archive-q">'+esc(it.q)+'</div><div style="color:#888;font-size:12px">'+it.d+'</div></div><div style="border-left:3px solid #333;padding-left:15px"><p style="color:#aaa;font-size:14px;margin-bottom:10px">'+it.a.length+' '+tr[lang].w+'</p>';var max=Math.min(3,it.a.length);for(var j=0;j<max;j++)h+='<div style="background:#1a1a1a;padding:8px;border-radius:4px;margin-bottom:8px;font-size:14px">'+esc(it.a[j])+'</div>';if(it.a.length>3){var rem=it.a.length-3,mt=lang==='uz'?'va yana':lang==='en'?'and':'–∏ –µ—â—ë';h+='<p style="color:#666;font-style:italic;font-size:12px">... '+mt+' '+rem+' '+tr[lang].w+'</p>'}h+='</div><button style="padding:6px 12px;background:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:12px;margin-top:10px" onclick="openArcDel('+it.id+')">üóëÔ∏è '+tr[lang].d1+'</button></div>'}arc.innerHTML=h}
document.getElementById('lang').value=lang;trans();rMain();
</script>
</body>
  </html>
