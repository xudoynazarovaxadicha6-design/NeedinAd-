<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NeedinAd</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background: #0f0f0f;
      color: #fff;
      padding: 24px;
      min-height: 100vh;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }

    .subtitle {
      color: #aaa;
      margin-bottom: 20px;
    }

    .header-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 8px 16px;
      background: #333;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }

    .btn:hover {
      background: #444;
    }

    .box {
      background: #1a1a1a;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
    }

    .box h3 {
      margin: 0 0 12px 0;
      font-size: 18px;
    }

    input, textarea, select {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      background: #222;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-family: Arial, sans-serif;
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    .btn-primary {
      padding: 10px;
      background: #fff;
      color: #000;
      border: none;
      width: 100%;
      cursor: pointer;
      border-radius: 4px;
      font-weight: bold;
    }

    .btn-primary:hover {
      background: #ddd;
    }

    .btn-delete {
      padding: 8px 16px;
      background: #f44336;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      margin-top: 10px;
    }

    .btn-delete:hover {
      background: #d32f2f;
    }

    .answer {
      background: #222;
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 8px;
      color: #ddd;
      word-wrap: break-word;
    }

    .question-display {
      margin: 0;
      font-size: 16px;
      line-height: 1.5;
      background: #222;
      padding: 12px;
      border-radius: 6px;
    }

    .empty-state {
      color: #888;
      font-style: italic;
      margin: 0;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.8);
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: #1a1a1a;
      padding: 24px;
      border-radius: 8px;
      max-width: 400px;
      width: 90%;
    }

    .modal-content h3 {
      margin: 0 0 16px 0;
    }

    .modal-buttons {
      display: flex;
      gap: 10px;
    }

    .btn-success {
      flex: 1;
      padding: 10px;
      background: #4CAF50;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }

    .btn-danger {
      flex: 1;
      padding: 10px;
      background: #f44336;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }

    .archive-item {
      background: #222;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
    }

    .archive-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 12px;
    }

    .archive-question {
      margin: 0;
      font-size: 16px;
      color: #4CAF50;
      flex: 1;
    }

    .archive-date {
      font-size: 12px;
      color: #888;
      margin-left: 12px;
    }

    .archive-answers {
      padding-left: 12px;
      border-left: 3px solid #333;
    }

    .archive-count {
      margin: 0 0 8px 0;
      font-size: 14px;
      color: #aaa;
    }

    .archive-answer {
      background: #1a1a1a;
      padding: 8px;
      border-radius: 4px;
      margin-bottom: 6px;
      font-size: 14px;
      color: #ccc;
    }

    .archive-more {
      font-size: 12px;
      color: #666;
      font-style: italic;
      margin: 8px 0 0 0;
    }

    .view {
      display: none;
    }

    .view.active {
      display: block;
    }

    .settings-item {
      margin-bottom: 20px;
    }

    .settings-item label {
      display: block;
      margin-bottom: 8px;
      color: #aaa;
      font-size: 14px;
    }

    .success-message {
      background: #4CAF50;
      color: white;
      padding: 12px;
      border-radius: 4px;
      margin-bottom: 16px;
      display: none;
    }

    .success-message.active {
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div>
      <h1>NeedinAd</h1>
      <p class="subtitle" id="subtitle">Savol bitta. Fikrlar ko'p.</p>
      <div class="header-buttons">
        <button class="btn" onclick="switchView('main')">
          üè† <span data-lang="home">Bosh sahifa</span>
        </button>
        <button class="btn" onclick="switchView('archive')">
          üìö <span data-lang="archive">Arxiv</span>
        </button>
        <button class="btn" onclick="switchView('settings')">
          ‚öôÔ∏è <span data-lang="settings">Sozlamalar</span>
        </button>
      </div>
    </div>

    <!-- Main View -->
    <div id="mainView" class="view active">
      <!-- Owner: Add Question -->
      <div class="box">
        <h3><span data-lang="postQuestion">Savol joylash</span> (faqat egasi) üîê</h3>
        <input type="text" id="questionInput" placeholder="Savolni yozing...">
        <button class="btn-primary" onclick="showPasswordModal()">
          <span data-lang="postQuestionBtn">Savolni joylash</span>
        </button>
      </div>

      <!-- Current Question -->
      <div class="box">
        <h3>üìå <span data-lang="currentQuestion">Hozirgi Savol</span></h3>
        <div id="currentQuestion">
          <p class="empty-state" data-lang="noQuestion">Hozirda savol yo'q</p>
        </div>
        <button class="btn-delete" id="deleteQuestionBtn" style="display: none;" onclick="showDeleteModal()">
          üóëÔ∏è <span data-lang="deleteQuestion">Savolni o'chirish</span>
        </button>
      </div>

      <!-- Add Answer -->
      <div class="box">
        <h3>üí¨ <span data-lang="anonymousAnswer">Anonim javob qoldirish</span></h3>
        <textarea id="answerInput" placeholder="Fikringizni yozing..."></textarea>
        <button class="btn-primary" onclick="addAnswer()">
          <span data-lang="sendAnswer">Javob yuborish</span>
        </button>
      </div>

      <!-- Answers -->
      <div class="box">
        <h3>üí≠ <span data-lang="answers">Javoblar</span> <span id="answerCount">(0)</span></h3>
        <div id="answersList">
          <p class="empty-state" data-lang="noAnswers">Hozircha javoblar yo'q. Birinchi bo'lib javob qoldiring!</p>
        </div>
      </div>
    </div>

    <!-- Archive View -->
    <div id="archiveView" class="view">
      <div class="box">
        <h2 style="margin: 0 0 20px 0; font-size: 24px;">
          üìö <span data-lang="archiveTitle">Arxiv</span>
        </h2>
        <div id="archiveList">
          <p class="empty-state" data-lang="emptyArchive">Arxivda hech narsa yo'q</p>
        </div>
      </div>
    </div>

    <!-- Settings View -->
    <div id="settingsView" class="view">
      <div class="box">
        <h2 style="margin: 0 0 20px 0; font-size: 24px;">
          ‚öôÔ∏è <span data-lang="settingsTitle">Sozlamalar</span>
        </h2>
        
        <div id="successMessage" class="success-message">
          <span data-lang="changesSaved">O'zgarishlar saqlandi!</span>
        </div>

        <!-- Language Selection -->
        <div class="settings-item">
          <label><span data-lang="selectLanguage">Tilni tanlang:</span></label>
          <select id="languageSelect" onchange="changeLanguage(this.value)">
            <option value="uz">O'zbek</option>
            <option value="en">English</option>
            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          </select>
        </div>

        <!-- Change Password -->
        <div class="settings-item">
          <label><span data-lang="changePassword">Parolni o'zgartirish (faqat egasi):</span></label>
          <input type="password" id="oldPassword" placeholder="Hozirgi parol">
          <input type="password" id="newPassword" placeholder="Yangi parol">
          <input type="password" id="confirmPassword" placeholder="Parolni tasdiqlang">
          <button class="btn-primary" onclick="changePassword()">
            <span data-lang="changePasswordBtn">Parolni o'zgartirish</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Password Modal -->
    <div id="passwordModal" class="modal">
      <div class="modal-content">
        <h3 data-lang="enterPassword">Parolni kiriting</h3>
        <input type="password" id="passwordInput" placeholder="Ega paroli..." onkeypress="if(event.key==='Enter')addQuestion()">
        <div class="modal-buttons">
          <button class="btn-success" onclick="addQuestion()">
            <span data-lang="confirm">Tasdiqlash</span>
          </button>
          <button class="btn-danger" onclick="hidePasswordModal()">
            <span data-lang="cancel">Bekor qilish</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
      <div class="modal-content">
        <h3 data-lang="confirmDelete">Savolni o'chirishni tasdiqlaysizmi?</h3>
        <p style="color: #aaa; margin-bottom: 16px;" data-lang="deleteWarning">Bu amalni qaytarib bo'lmaydi!</p>
        <input type="password" id="deletePasswordInput" placeholder="Ega paroli..." onkeypress="if(event.key==='Enter')deleteQuestion()">
        <div class="modal-buttons">
          <button class="btn-danger" onclick="deleteQuestion()">
            <span data-lang="delete">O'chirish</span>
          </button>
          <button class="btn-success" onclick="hideDeleteModal()">
            <span data-lang="cancel">Bekor qilish</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Translations
    const translations = {
      uz: {
        subtitle: "Savol bitta. Fikrlar ko'p.",
        home: "Bosh sahifa",
        archive: "Arxiv",
        settings: "Sozlamalar",
        postQuestion: "Savol joylash",
        postQuestionBtn: "Savolni joylash",
        currentQuestion: "Hozirgi Savol",
        noQuestion: "Hozirda savol yo'q",
        deleteQuestion: "Savolni o'chirish",
        anonymousAnswer: "Anonim javob qoldirish",
        sendAnswer: "Javob yuborish",
        answers: "Javoblar",
        noAnswers: "Hozircha javoblar yo'q. Birinchi bo'lib javob qoldiring!",
        archiveTitle: "Arxiv",
        emptyArchive: "Arxivda hech narsa yo'q",
        settingsTitle: "Sozlamalar",
        changesSaved: "O'zgarishlar saqlandi!",
        selectLanguage: "Tilni tanlang:",
        changePassword: "Parolni o'zgartirish (faqat egasi):",
        changePasswordBtn: "Parolni o'zgartirish",
        enterPassword: "Parolni kiriting",
        confirm: "Tasdiqlash",
        cancel: "Bekor qilish",
        confirmDelete: "Savolni o'chirishni tasdiqlaysizmi?",
        deleteWarning: "Bu amalni qaytarib bo'lmaydi!",
        delete: "O'chirish",
        answersCount: "javob"
      },
      en: {
        subtitle: "One question. Many thoughts.",
        home: "Home",
        archive: "Archive",
        settings: "Settings",
        postQuestion: "Post Question",
        postQuestionBtn: "Post Question",
        currentQuestion: "Current Question",
        noQuestion: "No question yet",
        deleteQuestion: "Delete Question",
        anonymousAnswer: "Leave Anonymous Answer",
        sendAnswer: "Send Answer",
        answers: "Answers",
        noAnswers: "No answers yet. Be the first!",
        archiveTitle: "Archive",
        emptyArchive: "Archive is empty",
        settingsTitle: "Settings",
        changesSaved: "Changes saved!",
        selectLanguage: "Select Language:",
        changePassword: "Change Password (owner only):",
        changePasswordBtn: "Change Password",
        enterPassword: "Enter Password",
        confirm: "Confirm",
        cancel: "Cancel",
        confirmDelete: "Confirm deletion?",
        deleteWarning: "This cannot be undone!",
        delete: "Delete",
        answersCount: "answers"
      },
      ru: {
        subtitle: "–û–¥–∏–Ω –≤–æ–ø—Ä–æ—Å. –ú–Ω–æ–≥–æ –º—ã—Å–ª–µ–π.",
        home: "–ì–ª–∞–≤–Ω–∞—è",
        archive: "–ê—Ä—Ö–∏–≤",
        settings: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
        postQuestion: "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å",
        postQuestionBtn: "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å",
        currentQuestion: "–¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å",
        noQuestion: "–ù–µ—Ç –≤–æ–ø—Ä–æ—Å–∞",
        deleteQuestion: "–£–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å",
        anonymousAnswer: "–ê–Ω–æ–Ω–∏–º–Ω—ã–π –æ—Ç–≤–µ—Ç",
        sendAnswer: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å",
        answers: "–û—Ç–≤–µ—Ç—ã",
        noAnswers: "–ù–µ—Ç –æ—Ç–≤–µ—Ç–æ–≤. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!",
        archiveTitle: "–ê—Ä—Ö–∏–≤",
        emptyArchive: "–ê—Ä—Ö–∏–≤ –ø—É—Å—Ç",
        settingsTitle: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
        changesSaved: "–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!",
        selectLanguage: "–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:",
        changePassword: "–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å:",
        changePasswordBtn: "–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å",
        enterPassword: "–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",
        confirm: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å",
        cancel: "–û—Ç–º–µ–Ω–∞",
        confirmDelete: "–£–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å?",
        deleteWarning: "–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!",
        delete: "–£–¥–∞–ª–∏—Ç—å",
        answersCount: "–æ—Ç–≤–µ—Ç–æ–≤"
      }
    };

    // Global variables
    let OWNER_PASSWORD = localStorage.getItem('needinad_password') || 'owner123';
    let currentLang = localStorage.getItem('needinad_language') || 'uz';

    // Get data from localStorage
    function getData() {
      const current = localStorage.getItem('needinad_current');
      const archive = localStorage.getItem('needinad_archive');
      return {
        current: current ? JSON.parse(current) : null,
        archive: archive ? JSON.parse(archive) : []
      };
    }

    // Save data to localStorage
    function saveData(current, archive) {
      if (current !== undefined) {
        if (current === null) {
          localStorage.removeItem('needinad_current');
        } else {
          localStorage.setItem('needinad_current', JSON.stringify(current));
        }
      }
      if (archive) {
        localStorage.setItem('needinad_archive', JSON.stringify(archive));
      }
    }

    // Escape HTML to prevent XSS
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // Apply language
    function applyLanguage(lang) {
      currentLang = lang;
      localStorage.setItem('needinad_language', lang);
      
      document.getElementById('subtitle').textContent = translations[lang].subtitle;
      
      document.querySelectorAll('[data-lang]').forEach(el => {
        const key = el.getAttribute('data-lang');
        if (translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });

      // Update placeholders
      document.getElementById('questionInput').placeholder = translations[lang].postQuestion + '...';
      document.getElementById('answerInput').placeholder = translations[lang].anonymousAnswer + '...';
      document.getElementById('passwordInput').placeholder = translations[lang].enterPassword + '...';
      document.getElementById('deletePasswordInput').placeholder = translations[lang].enterPassword + '...';
      document.getElementById('oldPassword').placeholder = translations[lang].changePassword;
      document.getElementById('newPassword').placeholder = 'Yangi parol';
      document.getElementById('confirmPassword').placeholder = 'Tasdiqlang';
    }

    // Switch view
    function switchView(view) {
      document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
      
      if (view === 'main') {
        document.getElementById('mainView').classList.add('active');
        render();
      } else if (view === 'archive') {
        document.getElementById('archiveView').classList.add('active');
        renderArchive();
      } else if (view === 'settings') {
        document.getElementById('settingsView').classList.add('active');
      }
    }

    // Change language
    function changeLanguage(lang) {
      applyLanguage(lang);
      render();
      renderArchive();
    }

    // Password modal
    function showPasswordModal() {
      const question = document.getElementById('questionInput').value.trim();
      if (!question) {
        alert(translations[currentLang].postQuestion + '!');
        return;
      }
      document.getElementById('passwordModal').classList.add('active');
    }

    function hidePasswordModal() {
      document.getElementById('passwordInput').value = '';
      document.getElementById('passwordModal').classList.remove('active');
    }

    // Delete modal
    function showDeleteModal() {
      document.getElementById('deleteModal').classList.add('active');
    }

    function hideDeleteModal() {
      document.getElementById('deletePasswordInput').value = '';
      document.getElementById('deleteModal').classList.remove('active');
    }

    // Add question
    function addQuestion() {
      const password = document.getElementById('passwordInput').value;
      const question = document.getElementById('questionInput').value.trim();

      if (password !== OWNER_PASSWORD) {
        alert(currentLang === 'uz' ? "Parol noto'g'ri!" : currentLang === 'en' ? "Incorrect password!" : "–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!");
        document.getElementById('passwordInput').value = '';
        return;
      }

      const data = getData();
      
      // Archive current question if exists
      if (data.current && data.current.question) {
        data.archive.unshift({
          id: Date.now(),
          question: data.current.question,
          answers: data.current.answers || [],
          date: new Date().toLocaleDateString()
        });
      }

      // Save new question
      const newCurrent = {
        question: question,
        answers: []
      };

      saveData(newCurrent, data.archive);

      document.getElementById('questionInput').value = '';
      document.getElementById('passwordInput').value = '';
      document.getElementById('passwordModal').classList.remove('active');
      
      alert(currentLang === 'uz' ? 'Savol joylandi!' : currentLang === 'en' ? 'Question posted!' : '–í–æ–ø—Ä–æ—Å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω!');
      render();
    }

    // Delete question
    function deleteQuestion() {
      const password = document.getElementById('deletePasswordInput').value;

      if (password !== OWNER_PASSWORD) {
        alert(currentLang === 'uz' ? "Parol noto'g'ri!" : currentLang === 'en' ? "Incorrect password!" : "–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!");
        document.getElementById('deletePasswordInput').value = '';
        return;
      }

      const data = getData();
      
      // Archive before deleting
      if (data.current && data.current.question) {
        data.archive.unshift({
          id: Date.now(),
          question: data.current.question,
          answers: data.current.answers || [],
          date: new Date().toLocaleDateString()
        });
      }

      saveData(null, data.archive);

      document.getElementById('deletePasswordInput').value = '';
      document.getElementById('deleteModal').classList.remove('active');
      
      alert(currentLang === 'uz' ? "Savol o'chirildi!" : currentLang === 'en' ? "Question deleted!" : "–í–æ–ø—Ä–æ—Å —É–¥–∞–ª–µ–Ω!");
      render();
    }

    // Add answer
    function addAnswer() {
      const answer = document.getElementById('answerInput').value.trim();
      if (!answer) {
        alert(translations[currentLang].sendAnswer + '!');
        return;
      }

      const data = getData();
      if (!data.cur
      margin-bottom: 6px;
      
      <!-- Answers -->
      <div class="box">
        <h3>üí≠ <span data-lang="answers">Javoblar</span> <span id="answerCount">(0)</span></h3>
        <div id="answersList">
          <p class="empty-state" data-lang="noAnswers">Hozircha javoblar yo'q. Birinchi bo'lib javob qoldiring!</p>
        </div>
      </div>
    </div>

    <!-- Archive View -->
    <div id="archiveView">
      <div class="box">
        <h2 style="margin: 0 0 20px 0; font-size: 24px;">üìö <span data-lang="archiveTitle">Arxiv</span></h2>
        <div id="archiveList">
          <p class="empty-state" data-lang="emptyArchive">Arxivda hech narsa yo'q</p>
        </div>
      </div>
    </div>

    <!-- Settings View -->
    <div id="settingsView">
      <div class="box">
        <h2 style="margin: 0 0 20px 0; font-size: 24px;">‚öôÔ∏è <span data-lang="settingsTitle">Sozlamalar</span></h2>
        
        <div id="successMessage" class="success-message" style="display: none;">
          <span data-lang="changesSaved">O'zgarishlar saqlandi!</span>
        </div>

        <!-- Language Selection -->
        <div class="settings-item">
          <label><span data-lang="selectLanguage">Tilni tanlang:</span></label>
          <select id="languageSelect">
            <option value="uz">O'zbek</option>
            <option value="en">English</option>
            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          </select>
        </div>

        <!-- Change Password -->
        <div class="settings-item">
          <label><span data-lang="changePassword">Parolni o'zgartirish (faqat egasi):</span></label>
          <input type="password" id="oldPassword" data-placeholder="oldPasswordPlaceholder" placeholder="Hozirgi parol" />
          <input type="password" id="newPassword" data-placeholder="newPasswordPlaceholder" placeholder="Yangi parol" />
          <input type="password" id="confirmPassword" data-placeholder="confirmPasswordPlaceholder" placeholder="Parolni tasdiqlang" />
          <button class="btn-primary" id="changePasswordBtn" data-lang="changePasswordBtn">Parolni o'zgartirish</button>
        </div>
      </div>
    </div>

    <!-- Password Modal -->
    <div id="passwordModal" class="modal">
      <div class="modal-content">
        <h3 data-lang="enterPassword">Parolni kiriting</h3>
        <input type="password" id="passwordInput" data-placeholder="ownerPasswordPlaceholder" placeholder="Ega paroli..." />
        <div class="modal-buttons">
          <button class="btn-success" id="confirmPasswordBtn" data-lang="confirm">Tasdiqlash</button>
          <button class="btn-danger" id="cancelPasswordBtn" data-lang="cancel">Bekor qilish</button>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
      <div class="modal-content">
        <h3 data-lang="confirmDelete">Savolni o'chirishni tasdiqlaysizmi?</h3>
        <p style="color: #aaa; margin-bottom: 16px;" data-lang="deleteWarning">Bu amalni qaytarib bo'lmaydi!</p>
        <input type="password" id="deletePasswordInput" data-placeholder="ownerPasswordPlaceholder" placeholder="Ega paroli..." />
        <div class="modal-buttons">
          <button class="btn-danger" id="confirmDeleteBtn" data-lang="delete">O'chirish</button>
          <button class="btn-success" id="cancelDeleteBtn" data-lang="cancel">Bekor qilish</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Translations
    const translations = {
      uz: {
        subtitle: "Savol bitta. Fikrlar ko'p.",
        home: "Bosh sahifa",
        archive: "Arxiv",
        settings: "Sozlamalar",
        postQuestion: "Savol joylash",
        questionPlaceholder: "Savolni yozing...",
        postQuestionBtn: "Savolni joylash",
        currentQuestion: "Hozirgi Savol",
        noQuestion: "Hozirda savol yo'q",
        deleteQuestion: "üóëÔ∏è Savolni o'chirish",
        anonymousAnswer: "Anonim javob qoldirish",
        answerPlaceholder: "Fikringizni yozing...",
        sendAnswer: "Javob yuborish",
        answers: "Javoblar",
        noAnswers: "Hozircha javoblar yo'q. Birinchi bo'lib javob qoldiring!",
        archiveTitle: "Arxiv",
        emptyArchive: "Arxivda hech narsa yo'q",
        settingsTitle: "Sozlamalar",
        changesSaved: "O'zgarishlar saqlandi!",
        selectLanguage: "Tilni tanlang:",
        changePassword: "Parolni o'zgartirish (faqat egasi):",
        oldPasswordPlaceholder: "Hozirgi parol",
        newPasswordPlaceholder: "Yangi parol",
        confirmPasswordPlaceholder: "Parolni tasdiqlang",
        changePasswordBtn: "Parolni o'zgartirish",
        enterPassword: "Parolni kiriting",
        ownerPasswordPlaceholder: "Ega paroli...",
        confirm: "Tasdiqlash",
        cancel: "Bekor qilish",
        confirmDelete: "Savolni o'chirishni tasdiqlaysizmi?",
        deleteWarning: "Bu amalni qaytarib bo'lmaydi!",
        delete: "O'chirish",
        answersCount: "javob"
      },
      en: {
        subtitle: "One question. Many thoughts.",
        home: "Home",
        archive: "Archive",
        settings: "Settings",
        postQuestion: "Post Question",
        questionPlaceholder: "Write your question...",
        postQuestionBtn: "Post Question",
        currentQuestion: "Current Question",
        noQuestion: "No question yet",
        deleteQuestion: "üóëÔ∏è Delete Question",
        anonymousAnswer: "Leave Anonymous Answer",
        answerPlaceholder: "Share your thoughts...",
        sendAnswer: "Send Answer",
        answers: "Answers",
        noAnswers: "No answers yet. Be the first to answer!",
        archiveTitle: "Archive",
        emptyArchive: "Archive is empty",
        settingsTitle: "Settings",
        changesSaved: "Changes saved!",
        selectLanguage: "Select Language:",
        changePassword: "Change Password (owner only):",
        oldPasswordPlaceholder: "Current password",
        newPasswordPlaceholder: "New password",
        confirmPasswordPlaceholder: "Confirm password",
        changePasswordBtn: "Change Password",
        enterPassword: "Enter Password",
        ownerPasswordPlaceholder: "Owner password...",
        confirm: "Confirm",
        cancel: "Cancel",
        confirmDelete: "Confirm question deletion?",
        deleteWarning: "This action cannot be undone!",
        delete: "Delete",
        answersCount: "answers"
      },
      ru: {
        subtitle: "–û–¥–∏–Ω –≤–æ–ø—Ä–æ—Å. –ú–Ω–æ–≥–æ –º—ã—Å–ª–µ–π.",
        home: "–ì–ª–∞–≤–Ω–∞—è",
        archive: "–ê—Ä—Ö–∏–≤",
        settings: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
        postQuestion: "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å",
        questionPlaceholder: "–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å...",
        postQuestionBtn: "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å",
        currentQuestion: "–¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å",
        noQuestion: "–ù–µ—Ç –≤–æ–ø—Ä–æ—Å–∞",
        deleteQuestion: "üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å",
        anonymousAnswer: "–û—Å—Ç–∞–≤–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã–π –æ—Ç–≤–µ—Ç",
        answerPlaceholder: "–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏...",
        sendAnswer: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç",
        answers: "–û—Ç–≤–µ—Ç—ã",
        noAnswers: "–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–≤–µ—Ç–æ–≤. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!",
        archiveTitle: "–ê—Ä—Ö–∏–≤",
        emptyArchive: "–ê—Ä—Ö–∏–≤ –ø—É—Å—Ç",
        settingsTitle: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
        changesSaved: "–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!",
        selectLanguage: "–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:",
        changePassword: "–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü):",
        oldPasswordPlaceholder: "–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å",
        newPasswordPlaceholder: "–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å",
        confirmPasswordPlaceholder: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",
        changePasswordBtn: "–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å",
        enterPassword: "–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",
        ownerPasswordPlaceholder: "–ü–∞—Ä–æ–ª—å –≤–ª–∞–¥–µ–ª—å—Ü–∞...",
        confirm: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å",
        cancel: "–û—Ç–º–µ–Ω–∞",
        confirmDelete: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞?",
        deleteWarning: "–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!",
        delete: "–£–¥–∞–ª–∏—Ç—å",
        answersCount: "–æ—Ç–≤–µ—Ç–æ–≤"
      }
    };

    // Settings
    let OWNER_PASSWORD = localStorage.getItem('needinad_password') || 'owner123';
    let currentLang = localStorage.getItem('needinad_language') || 'uz';
    let currentView = 'main';
    let modalAction = '';

    // Apply language
    function applyLanguage(lang) {
      currentLang = lang;
      localStorage.setItem('needinad_language', lang);
      
      document.getElementById('subtitle').textContent = translations[lang].subtitle;
      
      document.querySelectorAll('[data-lang]').forEach(el => {
        const key = el.getAttribute('data-lang');
        if (translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });

      document.querySelectorAll('[data-placeholder]').forEach(el => {
        const key = el.getAttribute('data-placeholder');
        if (translations[lang][key]) {
          el.placeholder = translations[lang][key];
        }
      });
    }

    // Get data from localStorage
    function getData() {
      const current = localStorage.getItem('needinad_current');
      const archive = localStorage.getItem('needinad_archive');
      return {
        current: current ? JSON.parse(current) : null,
        archive: archive ? JSON.parse(archive) : []
      };
    }

    // Save data to localStorage
    function saveData(current, archive) {
      if (current !== null) {
        localStorage.setItem('needinad_current', JSON.stringify(current));
      }
      if (archive) {
        localStorage.setItem('needinad_archive', JSON.stringify(archive));
      }
    }

    // Escape HTML to prevent XSS
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // View switching
    document.getElementById('mainViewBtn').addEventListener('click', () => switchView('main'));
    document.getElementById('archiveViewBtn').addEventListener('click', () => switchView('archive'));
    document.getElementById('settingsViewBtn').addEventListener('click', () => switchView('settings'));

    function switchView(view) {
      currentView = view;
      document.getElementById('mainView').classList.remove('active');
      document.getElementById('archiveView').classList.remove('active');
      document.getElementById('settingsView').classList.remove('active');
      
      if (view === 'main') {
        document.getElementById('mainView').classList.add('active');
        render();
      } else if (view === 'archive') {
        document.getElementById('archiveView').classList.add('active');
        renderArchive();
      } else if (view === 'settings') {
        document.getElementById('settingsView').classList.add('active');
      }
    }

    // Language change
    document.getElementById('languageSelect').value = currentLang;
    document.getElementById('languageSelect').addEventListener('change', (e) => {
      applyLanguage(e.target.value);
      if (currentView === 'archive') renderArchive();
      if (currentView === 'main') render();
    });

    // Change password
    document.getElementById('changePasswordBtn').addEventListener('click', () => {
      const oldPass = document.getElementById('oldPassword').value;
      const newPass = document.getElementById('newPassword').value;
      const confirmPass = document.getElementById('confirmPassword').value;

      if (!oldPass || !newPass || !confirmPass) {
        alert(currentLang === 'uz' ? 'Barcha maydonlarni to\'ldiring' : 
              currentLang === 'en' ? 'Fill all fields' : '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
        return;
      }

      if (oldPass !== OWNER_PASSWORD) {
        alert(currentLang === 'uz' ? 'Hozirgi parol noto\'g\'ri' : 
              currentLang === 'en' ? 'Current password is incorrect' : '–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–µ–Ω');
        return;
      }

      if (newPass !== confirmPass) {
        alert(currentLang === 'uz' ? 'Yangi parollar mos kelmadi' : 
              currentLang === 'en' ? 'New passwords do not match' : '–ù–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
        return;
      }

      if (newPass.length < 4) {
        alert(currentLang === 'uz' ? 'Parol kamida 4 ta belgidan iborat bo\'lishi kerak' : 
              currentLang === 'en' ? 'Password must be at least 4 characters' : '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 4 —Å–∏–º–≤–æ–ª–æ–≤');
        return;
      }

      OWNER_PASSWORD = newPass;
      localStorage.setItem('needinad_password', newPass);
      
      document.getElementById('oldPassword').value = '';
      document.getElementById('newPassword').value = '';
      document.getElementById('confirmPassword').value = '';
      
      const msg = document.getElementById('successMessage');
      msg.style.display = 'block';
      setTimeout(() => msg.style.display = 'none', 3000);
    });

    // Add question
    document.getElementById('addQuestionBtn').addEventListener('click', () => {
      const question = document.getElementById('questionInput').value.trim();
      if (!question) {
        alert(currentLang === 'uz' ? 'Savolni yozing!' : 
              currentLang === 'en' ? 'Write a question!' : '–ù–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å!');
        return;
      }
      modalAction = 'add';
      document.getElementById('passwordModal').classList.add('active');
    });

    // Delete question
    document.getElementById('deleteQuestionBtn').addEventListener('click', () => {
      document.getElementById('deleteModal').classList.add('active');
    });

    // Confirm delete
    document.getElementById('confirmDeleteBtn').addEventListener('click', () => {
      const password = document.getElementById('dele
      <!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NeedinAd - Savol bitta. Fikrlar ko'p.</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background: #0f0f0f;
      color: #fff;
      padding: 24px;
      min-height: 100vh;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }

    .subtitle {
      color: #aaa;
      margin-bottom: 20px;
    }

    .btn {
      padding: 8px 16px;
      background: #333;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      margin-bottom: 20px;
    }

    .btn:hover {
      background: #444;
    }

    .box {
      background: #1a1a1a;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
    }

    .box h3 {
      margin: 0 0 12px 0;
      font-size: 18px;
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      background: #222;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-family: Arial, sans-serif;
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    .btn-primary {
      padding: 10px;
      background: #fff;
      color: #000;
      border: none;
      width: 100%;
      cursor: pointer;
      border-radius: 4px;
      font-weight: bold;
    }

    .btn-primary:hover {
      background: #ddd;
    }

    .answer {
      background: #222;
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 8px;
      color: #ddd;
      word-wrap: break-word;
    }

    .question-display {
      margin: 0;
      font-size: 16px;
      line-height: 1.5;
      background: #222;
      padding: 12px;
      border-radius: 6px;
    }

    .empty-state {
      color: #888;
      font-style: italic;
      margin: 0;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.8);
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: #1a1a1a;
      padding: 24px;
      border-radius: 8px;
      max-width: 400px;
      width: 90%;
    }

    .modal-content h3 {
      margin: 0 0 16px 0;
    }

    .modal-buttons {
      display: flex;
      gap: 10px;
    }

    .btn-success {
      flex: 1;
      padding: 10px;
      background: #4CAF50;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }

    .btn-danger {
      flex: 1;
      padding: 10px;
      background: #f44336;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }

    .archive-item {
      background: #222;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
    }

    .archive-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 12px;
    }

    .archive-question {
      margin: 0;
      font-size: 16px;
      color: #4CAF50;
      flex: 1;
    }

    .archive-date {
      font-size: 12px;
      color: #888;
      margin-left: 12px;
    }

    .archive-answers {
      padding-left: 12px;
      border-left: 3px solid #333;
    }

    .archive-count {
      margin: 0 0 8px 0;
      font-size: 14px;
      color: #aaa;
    }

    .archive-answer {
      background: #1a1a1a;
      padding: 8px;
      border-radius: 4px;
      margin-bottom: 6px;
      font-size: 14px;
      color: #ccc;
    }

    .archive-more {
      font-size: 12px;
      color: #666;
      font-style: italic;
      margin: 8px 0 0 0;
    }

    #mainView, #archiveView {
      display: none;
    }

    #mainView.active, #archiveView.active {
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div>
      <h1>NeedinAd</h1>
      <p class="subtitle">Savol bitta. Fikrlar ko'p.</p>
      <button class="btn" id="toggleViewBtn">üìö Arxivni ko'rish</button>
    </div>

    <!-- Main View -->
    <div id="mainView" class="active">
      <!-- Owner: Add Question -->
      <div class="box">
        <h3>Savol joylash (faqat egasi) üîê</h3>
        <input type="text" id="questionInput" placeholder="Savolni yozing..." />
        <button class="btn-primary" id="addQuestionBtn">Savolni joylash</button>
      </div>

      <!-- Current Question -->
      <div class="box">
        <h3>üìå Hozirgi Savol</h3>
        <div id="currentQuestion">
          <p class="empty-state">Hozirda savol yo'q</p>
        </div>
      </div>

      <!-- Add Answer -->
      <div class="box">
        <h3>üí¨ Anonim javob qoldirish</h3>
        <textarea id="answerInput" placeholder="Fikringizni yozing..."></textarea>
        <button class="btn-primary" id="addAnswerBtn">Javob yuborish</button>
      </div>

      <!-- Answers -->
      <div class="box">
        <h3>üí≠ Javoblar <span id="answerCount">(0)</span></h3>
        <div id="answersList">
          <p class="empty-state">Hozircha javoblar yo'q. Birinchi bo'lib javob qoldiring!</p>
        </div>
      </div>
    </div>

    <!-- Archive View -->
    <div id="archiveView">
      <div class="box">
        <h2 style="margin: 0 0 20px 0; font-size: 24px;">üìö Arxiv</h2>
        <div id="archiveList">
          <p class="empty-state">Arxivda hech narsa yo'q</p>
        </div>
      </div>
    </div>

    <!-- Password Modal -->
    <div id="passwordModal" class="modal">
      <div class="modal-content">
        <h3>Parolni kiriting</h3>
        <input type="password" id="passwordInput" placeholder="Ega paroli..." />
        <div class="modal-buttons">
          <button class="btn-success" id="confirmPasswordBtn">Tasdiqlash</button>
          <button class="btn-danger" id="cancelPasswordBtn">Bekor qilish</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const OWNER_PASSWORD = 'owner123';
    let currentView = 'main';

    // Get data from localStorage
    function getData() {
      const current = localStorage.getItem('needinad_current');
      const archive = localStorage.getItem('needinad_archive');
      return {
        current: current ? JSON.parse(current) : null,
        archive: archive ? JSON.parse(archive) : []
      };
    }

    // Save data to localStorage
    function saveData(current, archive) {
      if (current) {
        localStorage.setItem('needinad_current', JSON.stringify(current));
      }
      if (archive) {
        localStorage.setItem('needinad_archive', JSON.stringify(archive));
      }
    }

    // Escape HTML to prevent XSS
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // Toggle between main and archive view
    document.getElementById('toggleViewBtn').addEventListener('click', () => {
      if (currentView === 'main') {
        currentView = 'archive';
        document.getElementById('mainView').classList.remove('active');
        document.getElementById('archiveView').classList.add('active');
        document.getElementById('toggleViewBtn').textContent = '‚Üê Orqaga';
        renderArchive();
      } else {
        currentView = 'main';
        document.getElementById('mainView').classList.add('active');
        document.getElementById('archiveView').classList.remove('active');
        document.getElementById('toggleViewBtn').textContent = 'üìö Arxivni ko\'rish';
      }
    });

    // Add question
    document.getElementById('addQuestionBtn').addEventListener('click', () => {
      const question = document.getElementById('questionInput').value.trim();
      if (!question) {
        alert('Savolni yozing!');
        return;
      }
      document.getElementById('passwordModal').classList.add('active');
    });

    // Confirm password
    document.getElementById('confirmPasswordBtn').addEventListener('click', () => {
      const password = document.getElementById('passwordInput').value;
      const question = document.getElementById('questionInput').value.trim();

      if (password !== OWNER_PASSWORD) {
        alert('Parol noto\'g\'ri!');
        document.getElementById('passwordInput').value = '';
        return;
      }

      const data = getData();
      
      // Archive current question if exists
      if (data.current && data.current.question) {
        data.archive.unshift({
          id: Date.now(),
          question: data.current.question,
          answers: data.current.answers || [],
          date: new Date().toLocaleDateString('uz-UZ')
        });
      }

      // Save new question
      const newCurrent = {
        question: question,
        answers: []
      };

      saveData(newCurrent, data.archive);

      document.getElementById('questionInput').value = '';
      document.getElementById('passwordInput').value = '';
      document.getElementById('passwordModal').classList.remove('active');
      
      alert('Savol muvaffaqiyatli joylandi!');
      render();
    });

    // Cancel password
    document.getElementById('cancelPasswordBtn').addEventListener('click', () => {
      document.getElementById('passwordInput').value = '';
      document.getElementById('passwordModal').classList.remove('active');
    });

    // Add answer
    document.getElementById('addAnswerBtn').addEventListener('click', () => {
      const answer = document.getElementById('answerInput').value.trim();
      if (!answer) {
        alert('Javobni yozing!');
        return;
      }

      const data = getData();
      if (!data.current || !data.current.question) {
        alert('Hozirda savol yo\'q!');
        return;
      }

      data.current.answers.unshift(answer);
      saveData(data.current, null);

      document.getElementById('answerInput').value = '';
      alert('Javob yuborildi!');
      render();
    });

    // Render main view
    function render() {
      const data = getData();
      
      // Render current question
      const questionDiv = document.getElementById('currentQuestion');
      if (data.current && data.current.question) {
        questionDiv.innerHTML = `<p class="question-display">${escapeHtml(data.current.question)}</p>`;
      } else {
        questionDiv.innerHTML = '<p class="empty-state">Hozirda savol yo\'q</p>';
      }

      // Render answers
      const answersDiv = document.getElementById('answersList');
      const answers = data.current ? data.current.answers || [] : [];
      
      document.getElementById('answerCount').textContent = `(${answers.length})`;

      if (answers.length === 0) {
        answersDiv.innerHTML = '<p class="empty-state">Hozircha javoblar yo\'q. Birinchi bo\'lib javob qoldiring!</p>';
      } else {
        answersDiv.innerHTML = answers.map(ans => 
          `<div class="answer">${escapeHtml(ans)}</div>`
        ).join('');
      }
    }

    // Render archive
    function renderArchive() {
      const data = getData();
      const archiveDiv = document.getElementById('archiveList');

      if (data.archive.length === 0) {
        archiveDiv.innerHTML = '<p class="empty-state">Arxivda hech narsa yo\'q</p>';
        return;
      }

      archiveDiv.innerHTML = data.archive.map(item => `
        <div class="archive-item">
          <div class="archive-header">
            <h3 class="archive-question">${escapeHtml(item.question)}</h3>
            <span class="archive-date">${item.date}</span>
          </div>
          <div class="archive-answers">
            <p class="archive-count">${item.answers.length} javob</p>
            ${item.answers.slice(0, 3).map(ans => 
              `<div class="archive-answer">${escapeHtml(ans)}</div>`
            ).join('')}
            ${item.answers.length > 3 ? 
              `<p class="archive-more">... va yana ${item.answers.length - 3} javob</p>` : 
              ''
            }
          </div>
        </div>
      `).join('');
    }

    // Enter key support for password
    document.getElementById('passwordInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        document.getElementById('confirmPasswordBtn').click();
      }
    });

    // Initial render
    render();
  </script>
</body>
</html>
